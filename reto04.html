<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Pangolin&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0px;
        padding: 0px;
        background: #fafafa;
      }
      header {
        height: 60px;
        background: #c2bfbf;
        width: 100%;
      }
      footer {
        height: 60px;
        background: #c2bfbf;
        width: 100%;
      }
      .headerModoNoche {
        height: 60px;
        background: #000000;
        width: 100%;
      }
      .footerModoNoche {
        height: 60px;
        background: #000000;
        width: 100%;
      }
      .nombrePrograma {
        font-size: 50px;
        position: fixed;
        top: 80px;
        width: 100%;
        /* background: #f0dcd3; */
        text-align: center;
      }

      .botonFab {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        background: #8f7e7ee3;
        position: absolute;
        right: 60px;
        bottom: 120px;
        color: rgb(255, 255, 255);
        font-weight: bold;
        font-size: 25px;
        text-align: center;
      }

      .pantallaUno {
        font-family: "Pangolin", cursive;
        text-align: center;
        font-size: 20px;
        font-style: normal;
        display: none;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        background: #f0dcd3;
        width: 100%;
        height: calc(100vh - 120px);
      }

      .pantallaDos {
        font-family: "Pangolin", cursive;
        text-align: center;
        font-size: 20px;
        font-style: normal;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        background: #f0dcd3;
        width: 100%;
        height: calc(100vh - 120px);
      }

      .pantallaTres {
        font-family: "Pangolin", cursive;
        text-align: center;
        font-size: 20px;
        font-style: normal;
        display: none;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        background: #f0dcd3;
        width: 100%;
        height: calc(100vh - 120px);
      }

      .pantallaModoNoche {
        background: black;
        color: white;
      }
      .pantallaTresModoNoche {
        background: black;
        color: black;
      }
      .botonModoNoche {
        width: 25px;
        position: absolute;
        top: 18px;
        left: 350px;
        color: #000000;
        background: #00000018;
        border-radius: 5px;
      }

      .ingreseTarea {
        font-size: 40px;
        position: fixed;
        top: 90px;
        width: 100%;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .inputIngreseTarea {
        position: fixed;
        top: 160px;
        margin: 0 auto;
        width: 150px;
        background: #ffffff;
        text-align: center;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
        border: 2px solid black;
        display: flex;
      }
      .categoria {
        font-size: 20px;
        position: fixed;
        top: 250px;
        width: 100%;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .seleccionarCategoria {
        display: flex;
        margin: 0 auto;
        width: 100px;
      }
      .descripcion {
        display: flex;
        margin: 0 auto;
        width: 100px;
      }
      .inputDescripcion {
        position: fixed;
        top: 400px;
        width: 200px;
        height: 20px;
        text-align: center;
        border-radius: 5%;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
        border: 1px solid black;
        resize: none;
        font-family: Arial, sans-serif;
      }
      .guardarTarea {
        position: fixed;
        top: 450px;
        width: 130px;
        height: 25px;
        text-align: center;
        font-weight: bold;
      }
      .contenedorTareaCargada {
        border: 2px solid #000;
        background-color: #f2f2f2;
        padding: 15px;
        width: auto;
        height: 10px;
        margin: 10px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }
      .botonCheck {
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .botonBorrar {
        width: 50px;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 5px;
      }
      .popDescripcion {
        display: none;
      }
      .descripcionMostrada {
        font-family: "PT Sans", sans-serif;
        width: 300px;
        height: auto;
        background: #dadada;
        display: none;
        flex-direction: column;
        position: absolute;
        border: 2px solid #000;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 10);
      }
      .mostrar {
        display: block;
      }

      .tareaNoTachada {
        padding: 5px;
        color: black;
        text-decoration: none;
        font-size: 15px;
        width: auto;
      }
      .botonera {
        display: flex;
        align-items: center;
        margin-left: auto;
      }
      .realizado {
        font-size: 12px;
      }
      .tachar {
        text-decoration: line-through;
      }
      .botonBorrar {
        font-size: 10px;
      }
      .completada li {
        color: #a1a1a1;
        text-decoration: line-through;
      }
      .mostrarDescripcion {
        margin: 0px;
        font-size: 10px;
      }
      .botonCerrar {
        position: absolute;
        bottom: 4px;
        left: 42%;
      }
      .descripcionEnPop {
        padding-bottom: 10px;
        font-size: 20px;
      }
      .categoriaP {
        font-weight: bolder;
        font-size: 25px;
      }
    </style>
  </head>
  <body>
    <header id="header">
      <button id="botonModoNoche" class="botonModoNoche" onclick="modoNoche()">
        &#9789;
      </button>
    </header>
    <!-- PRIMERA PANTALLA -->
    <section class="pantallaUno" id="pantallaUno">
      <div class="nombrePrograma" id="nombrePrograma">To-Do-List</div>
      <div class="fraseMotivadora">
        <h1 id="fraseRandom"></h1>
      </div>
      <button class="botonFab" id="botonFab">+</button>
    </section>
    <!-- SEGUNDA PANTALLA -->
    <!--  -->
    <!-- INGRESAR TAREA -->
    <section class="pantallaDos" id="pantallaDos">
      <div class="ingreseTarea" id="ingreseTarea">
        <label for="inputIngreseTarea">Ingrese tarea:</label>
      </div>
      <br />
      <input
        type="text"
        class="inputIngreseTarea"
        id="inputIngreseTarea"
        placeholder="Ej: sacar la basura"
      />
      <!-- SELECCIONAR CATEGORIA -->
      <div class="categoria" id="categoria">
        <label for="seleccionarCategoria">Seleccione la categoria: </label
        ><br />
        <select id="seleccionarCategoria" class="seleccionarCategoria">
          <option value="hogar">Hogar</option>
          <option value="compras">Compras</option>
          <option value="aireLibre">Aire Libre</option>
          <option value="trabajo">Trabajo</option></select
        ><br />
        <!-- DESCRIPCION -->
        <div class="descripcion" id="descripcion">
          <label for="inputDescripcion">Descripci√≥n:</label>
        </div>
        <br />
        <input
          type="text"
          class="inputDescripcion"
          id="inputDescripcion"
          placeholder="Ingrese descripcion"
        />
        <button class="guardarTarea" id="guardarTarea">Guardar Tarea</button
        ><br />
      </div>
      <button class="botonFab" id="botonFab2">+</button>
    </section>
    <!-- TERCERA PANTALLA -->

    <section class="pantallaTres" id="pantallaTres">
      <!-- <ul class="tareaCargada" id="tareaCargada"></ul> -->
      <div id="tareaCargada"></div>

      <div id="descripcionMostrada" class="descripcionMostrada">
        <p id="categoriaP" class="categoriaP"></p>
        <p id="descripcionEnPop" class="descripcionEnPop"></p>
        <button class="botonCerrar" id="botonCerrar" onclick="cerrarPop()">
          Cerrar
        </button>
      </div>
      <button class="botonFab" id="botonFab3">-</button>
    </section>
    <!-- CUARTA PANTALLA -->
    <section class="pantallaCuatro" id="pantallaCuatro"></section>

    <footer id="footer"></footer>

    <script>
      // VARIABLES BOTON FAB
      let botonFab = document.getElementById("botonFab");
      let botonFab2 = document.getElementById("botonFab2");
      let botonFab3 = document.getElementById("botonFab3");
      let pantallaUno = document.getElementById("pantallaUno");
      let pantallaDos = document.getElementById("pantallaDos");
      let pantallaTres = document.getElementById("pantallaTres");
      // VARIABLES BOTON GUARDAR TAREA
      let guardarTareaBoton = document.getElementById("guardarTarea");

      let tareaCargada = document.getElementById("tareaCargada");
      let arrayTareas = [];
      let imagenCategoria = document.getElementById("imagenCategoria");
      let popDescripcion = document.getElementById("popDescripcion");
      let descripcionP = document.getElementById("descripcionP");
      let tareaNoTachada = document.getElementById("tareaNoTachada");
      let tareaTachada = document.getElementById("tareaTachada");
      let mostrarDescripcion = document.getElementById("mostrarDescripcion");
      let index = 0;
      let descripcionMostrada = document.getElementById("descripcionMostrada");
      let descripcionEnPop = document.getElementById("descripcionEnPop");
      let categoriaP = document.getElementById("categoriaP");
      let header = document.getElementById("header");
      let footer = document.getElementById("footer");
      let nombrePrograma = document.getElementById("nombrePrograma");
      let categoria = document.getElementById("categoria");
      let fraseRandom = document.getElementById("fraseRandom");
      ////////////////////////////////////////////////////
      let frases = [
        "‚ÄúTodo tiene un orden, a√∫n dentro del caos‚Äù",
        "‚ÄúCuando pierdas, no pierdas la lecci√≥n‚Äù",
        "‚ÄúNo busques los errores, busca un remedio‚Äù",
        "‚ÄúTu actitud, no tu aptitud, determinar√° tu altitud‚Äù",
        "‚ÄúSi te ca√≠ste ayer, lev√°ntate hoy‚Äù",
      ];
      let random = Math.floor(Math.random() * 4);
      fraseRandom.innerHTML = frases[random];
      ///////////////////////////////////////////////////BOTON GUARDAR TAREA
      guardarTareaBoton.addEventListener("click", () => {
        ////////VARIABLES QUE VOY A USAR DESDE EL HTML//////////
        let inputIngreseTarea = document.getElementById("inputIngreseTarea");
        let seleccionarCategoria = document.getElementById(
          "seleccionarCategoria"
        );
        let inputDescripcion = document.getElementById("inputDescripcion");
        //////////////////////////////////
        if (
          inputIngreseTarea.value.trim() === "" ||
          seleccionarCategoria.value === "" ||
          inputDescripcion.value.trim() === ""
        ) {
          alert("Por favor, completa todos los datos!");
          return;
        }
        let emojiCategoria; //DECLARO VARIABLE PARA EMOJIS
        if (seleccionarCategoria.value == "hogar") {
          emojiCategoria = "&#127968;";
        } else if (seleccionarCategoria.value == "compras") {
          emojiCategoria = "&#x1F6D2;";
        } else if (seleccionarCategoria.value == "aireLibre") {
          emojiCategoria = "&#x1F6B5;";
        } else if (seleccionarCategoria.value == "trabajo") {
          emojiCategoria = "&#x1F4BC;";
        }

        let obj = {
          // guardo en el objeto lo que ingreso con el input, select o imagen
          //se usa el .VALUE ac√° , porque es el dato que esta en este momento de ejecucion
          titulo: inputIngreseTarea.value,
          categoria: emojiCategoria,
          descripcion: inputDescripcion.value,
          id: "tarea-" + index,
          realizada: false,
          count: index,
        };
        // en ID guardo un identificador unico agregandole TAREA + la posicion del array, asi es mas facil ubicar un obejto por ID
        arrayTareas.push(obj); //agrego elemento al array de objetos
        tareaCargada.innerHTML = " ";
        arrayTareas.map((tarea) => {
          let modelo = `<div class="contenedorTareaCargada" ><p id="emoji">${tarea.categoria}</p>
              <p id="${tarea.id}" class="tareaNoTachada">${tarea.titulo}</p>
              <div class="botonera"><p class="realizado">Realizado</p>
              <input type="checkbox" name="realizado" id="${tarea.id}" onchange="tacharTexto(${tarea.count})">
              <button class="botonBorrar" onclick="borrarTarea(${tarea.count})">Borrar</button>
              <div class="popDescripcion" id="popDescripcion"><p id="descripcionP">${tarea.descripcion}</p></div>
              <button id="mostrarDescripcion" class="mostrarDescripcion" onclick="showDescripcion(${tarea.count})">Descripcion</button></div>
            </div>
              `;
          tareaCargada.innerHTML += modelo;
          inputIngreseTarea.value = ""; // LIMPIA EL INPUT
          inputDescripcion.value = "";
        });
        index++;
      });
      // BORRAR TAREA
      let borrarTarea = (index) => {
        arrayTareas.splice(index, 1);
        console.log(arrayTareas);
      };

      //MOSTRAR DESCRIPCION
      let showDescripcion = (index) => {
        descripcionEnPop.innerHTML = "";
        console.log(index);
        console.log(arrayTareas[index].descripcion);

        descripcionEnPop.innerHTML = arrayTareas[index].descripcion;
        categoriaP.innerHTML = arrayTareas[index].categoria;
        descripcionMostrada.classList.toggle("mostrar");
      };

      //Tachar texto de tarea realizada
      let tacharTexto = (index) => {
        let titleTarea = document.getElementById(`${arrayTareas[index].id}`);
        console.log(titleTarea);
        titleTarea.classList.toggle("tachar");
        arrayTareas[index].realizada = "true";
      };

      // CERRAR VENTANA
      let cerrarPop = () => {
        descripcionMostrada.classList.remove("mostrar");
      };
      botonFab.addEventListener("click", () => {
        pantallaUno.style.display = "none";
        pantallaDos.style.display = "flex";
        pantallaTres.style.display = "none";
      });
      botonFab2.addEventListener("click", () => {
        if (arrayTareas.length === 0) {
          alert("Por favor, agregue por lo menos una tarea antes de seguir!");
          return;
        }
        pantallaUno.style.display = "none";
        pantallaDos.style.display = "none";
        pantallaTres.style.display = "flex";
      });
      botonFab3.addEventListener("click", () => {
        pantallaUno.style.display = "none";
        pantallaDos.style.display = "flex";
        pantallaTres.style.display = "none";
      });
      let modoNoche = () => {
        // categoria.classList.toggle("pantallaModoNoche");
        // nombrePrograma.classList.toggle("pantallaModoNoche");
        header.classList.toggle("headerModoNoche");
        footer.classList.toggle("footerModoNoche");
        pantallaUno.classList.toggle("pantallaModoNoche");
        pantallaDos.classList.toggle("pantallaModoNoche");
        pantallaTres.classList.toggle("pantallaTresModoNoche");
      };
    </script>
  </body>
</html>
